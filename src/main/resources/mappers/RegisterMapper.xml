<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0/EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.shoppingmall.mapper.RegisterMapper">

	
	<!-- 아이디 중복 검사 -->
	<select id="CheckID" resultType="Integer">
		<!-- 해킹에 대비하기 위해 count(*)로 비교 -->
		select count(*) from members where memberid = #{memberid};
	</select>
	

	<!-- 닉네임 중복 검사 -->
	<select id="CheckNickName" resultType="Integer">
		select count(*) from members where nickname = #{nickname};
	</select>

	<!-- 회원가입 -->
	<insert id="Register" parameterType="MembersVO">
		insert into members (memberid, nickname, password, membername, email, address, phone, flag)
			 values (#{memberid}, #{nickname}, #{password}, #{membername}, #{email}, #{address}, #{phone}, #{flag});
	</insert>
	
	
</mapper> 